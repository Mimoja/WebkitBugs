------------------------------------------------------------------------
r90914 | jknotten@chromium.org | 2011-07-13 16:11:14 +0200 (Mi, 13. Jul 2011) | 22 Zeilen
Ge√§nderte Pfade:
   M /trunk/LayoutTests/ChangeLog
   A /trunk/LayoutTests/fast/dom/Geolocation/remove-remote-context-in-error-callback-crash-expected.txt
   A /trunk/LayoutTests/fast/dom/Geolocation/remove-remote-context-in-error-callback-crash.html
   A /trunk/LayoutTests/fast/dom/Geolocation/resources/remove-remote-context-in-error-callback-crash-inner.html
   A /trunk/LayoutTests/fast/dom/Geolocation/script-tests/remove-remote-context-in-error-callback-crash.js
   M /trunk/Source/WebCore/ChangeLog
   M /trunk/Source/WebCore/page/Geolocation.cpp
   M /trunk/Source/WebCore/page/Geolocation.h

Reference Geolocation object from GeoNotifier and Geolocation::setIsAllowed.
https://bugs.webkit.org/show_bug.cgi?id=64363

Reviewed by Tony Gentilcore.

Source/WebCore:

Test: fast/dom/Geolocation/remove-remote-context-in-error-callback-crash.html

* page/Geolocation.cpp:
(WebCore::Geolocation::setIsAllowed):
* page/Geolocation.h:

LayoutTests:

* fast/dom/Geolocation/remove-remote-context-in-error-callback-crash.html: Added.
* fast/dom/Geolocation/resources/remove-remote-context-in-error-callback-crash-inner.html: Added.
* fast/dom/Geolocation/script-tests/remove-remote-context-in-error-callback-crash.js: Added.
* fast/dom/Geolocation/remove-remote-context-in-error-callback-crash-expected.txt: Added.
(gc):
(onIframeReady):


